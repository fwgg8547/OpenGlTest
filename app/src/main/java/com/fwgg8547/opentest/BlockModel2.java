package com.fwgg8547.opentest;

import java.util.List;
import java.util.ArrayList;
import java.util.*;

public class BlockModel2 extends SpriteBaseModel
{
	private static final String TAG = "BlockModel2";

	public BlockModel2(){
		mBlocks = new ArrayList<Item>();
	}
	
	public void initialize(TreeManager tree,int offset, int num, ModelGroup mg){
		mIndexCount =0;
		mCollisionTree = tree;
		
		for(int i=0; i<num; i++){
			Sprite s = new Sprite(offset+i);
			Item it = new Item();
			it.mId = offset+i;
			it.setSprite(s);
			it.setPosition(50.0f + i*200, 1600.0f, 0.0f, 0.0f);
			mBlocks.add(it);
		}
		
	}

	@Override
	public void onUpdate()
	{
		// delete item
		Iterator it = mBlocks.iterator();
		while(it.hasNext()){
			Item i = (Item)it.next();
			if(i.mIsDeleted){
				refreshTree(i);
				it.remove();
			}
		}
	}
}
