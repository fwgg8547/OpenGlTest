package com.fwgg8547.opentest;

import android.content.Context;
import android.opengl.GLSurfaceView;
import android.view.*;
import android.util.*;
import java.util.*;

public class GlSurf extends GLSurfaceView
{
		public interface Callback 
		{
				abstract public boolean onTouchEvent(MotionEvent event);
		}

		private final GLRenderer mRenderer;
		private Callback mCallback;

		public GlSurf(Context context, List<SpriteModel> models) {
				super(context);
				// Create an OpenGL ES 2.0 context.
				setEGLContextClientVersion(2);

				// Set the Renderer for drawing on the GLSurfaceView
				mRenderer = new GLRenderer(context, models);
				setRenderer(mRenderer);

				// Render the view only when there is a change in the drawing data
				setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY);
		}

		public void setCallback(Callback cb)
		{
				mCallback = cb;
		}

		@Override
				public boolean onTouchEvent(MotionEvent event)
		{
				if(mCallback != null) {
						mCallback.onTouchEvent(event);
				}
				return true;
		}

		@Override
				public void onPause() {
				// TODO Auto-generated method stub
				super.onPause();
				mRenderer.onPause();
		}

		@Override
				public void onResume() {
				// TODO Auto-generated method stub
				super.onResume();
				mRenderer.onResume();
		}
	
}
