package com.fwgg8547.opentest;

import java.util.List;
import java.util.ArrayList;
import java.util.*;

public class BlockModel extends SpriteBaseModel
{
	private static final String TAG = "BlockModel";
	private static BlockModel instance;
	
	public static BlockModel getInstance(){
		if(instance == null){
			instance = new BlockModel();
		}
		return instance;
	}

	private BlockModel(){
		mBlocks = new ArrayList<Item>();
	}
	
	public void initialize(int num, ModelGroup mg){
		mIndexCount =0;
		mGroup = mg;
		/*
		Sprite s = new Sprite(0);
		s.translate(500f, 700f);
		Item it = new Item();
		it.mId = 0;
		it.setSprite(s);
		it.setRailParam(500.0f, 500.0f, 100.0f, 0.0f);
		//it.setMoveParam(0.0f, 0.0f, 200.0f, 3.0f);
		mBlocks.add(it);
		*/
		
		
		for(int i=0; i<num; i++){
			Sprite s = new Sprite(i);
			Item it = new Item();
			it.mId = i;
			it.mGroupId = 1;
			it.setSprite(s);
			it.setPosition(500.0f, 500.0f, 200.0f, i*36.0f);
			
			mBlocks.add(it);
			mGroup.add(it);
		}
	}

	@Override
	public void onUpdate()
	{
		Iterator it = mBlocks.iterator();
		while(it.hasNext()){
			Item itm = (Item)it.next();
			itm.onMove();
		}
	}

}
